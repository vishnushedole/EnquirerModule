º
FC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder		 
.		 
Services		 
.		 
	AddScoped		 
<		 
IEnquiryModule		 )
,		) *
EnquiryModuleRepo		+ <
>		< =
(		= >
)		> ?
;		? @
builder

 
.

 
Services

 
.

 
	AddScoped

 
<

 
EnquiryModuleRepo

 ,
>

, -
(

- .
)

. /
;

/ 0
builder 
. 
Services 
. 
AddDbContext 
<  
EnquiryModuleContext 2
>2 3
(3 4
options4 ;
=>< >
options 
. 
UseSqlServer 
( 
builder  
.  !
Configuration! .
.. /
GetConnectionString/ B
(B C
$str	C †
)
† °
)
° ¢
)
¢ £
;
£ §
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app 
. 
UseAuthorization 
( 
) 
; 
app   
.   
MapControllers   
(   
)   
;   
app"" 
."" 
Run"" 
("" 
)"" 	
;""	 
é
XC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\MgrAssignedEnquire.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
MgrAssignedEnquire '
{		 
public

 

int

 !
MgrAssignedEnquiresId

 $
{

% &
get

' *
;

* +
set

, /
;

/ 0
}

1 2
public 

int 
? 
EmpId 
{ 
get 
; 
set  
;  !
}" #
public 

int 
? 
	EnquiryId 
{ 
get 
;  
set! $
;$ %
}& '
public 

bool 
? 
Isprocessed 
{ 
get "
;" #
set$ '
;' (
}) *
public 

virtual 
Manager 
? 
Emp 
{  !
get" %
;% &
set' *
;* +
}, -
public 

virtual 
Enquirer 
? 
Enquiry $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} Á
MC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\Manager.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
Manager 
{		 
public

 

int

 
EmpId

 
{

 
get

 
;

 
set

 
;

  
}

! "
public 

string 
	FirstName 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 

string 
LastName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

DateOnly 
DateOfBirth 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
AddressLine 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

int 
Pincode 
{ 
get 
; 
set !
;! "
}# $
public 

string 
PhoneNumber 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
=& '
null( ,
!, -
;- .
public 

string 
City 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
Country 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

int 
? 
NoOfEnq 
{ 
get 
; 
set "
;" #
}$ %
public   

virtual   
ICollection   
<   
Enquirer   '
>  ' (
	Enquirers  ) 2
{  3 4
get  5 8
;  8 9
set  : =
;  = >
}  ? @
=  A B
new  C F
List  G K
<  K L
Enquirer  L T
>  T U
(  U V
)  V W
;  W X
public"" 

virtual"" 
ICollection"" 
<"" 
MgrAssignedEnquire"" 1
>""1 2
MgrAssignedEnquires""3 F
{""G H
get""I L
;""L M
set""N Q
;""Q R
}""S T
=""U V
new""W Z
List""[ _
<""_ `
MgrAssignedEnquire""` r
>""r s
(""s t
)""t u
;""u v
}## ÅÄ
ZC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\EnquiryModuleContext.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public		 
partial		 
class		  
EnquiryModuleContext		 )
:		* +
	DbContext		, 5
{

 
public 
 
EnquiryModuleContext 
(  
)  !
{ 
} 
public 
 
EnquiryModuleContext 
(  
DbContextOptions  0
<0 1 
EnquiryModuleContext1 E
>E F
optionsG N
)N O
: 	
base
 
( 
options 
) 
{ 
} 
public 

virtual 
DbSet 
< 
DocType  
>  !
DocTypes" *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

virtual 
DbSet 
< 
Document !
>! "
	Documents# ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

virtual 
DbSet 
< 
Enquirer !
>! "
	Enquirers# ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

virtual 
DbSet 
< 
Manager  
>  !
Managers" *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

virtual 
DbSet 
< 
MgrAssignedEnquire +
>+ ,
MgrAssignedEnquires- @
{A B
getC F
;F G
setH K
;K L
}M N
	protected 
override 
void 
OnConfiguring )
() *#
DbContextOptionsBuilder* A
optionsBuilderB P
)P Q
=>   

optionsBuilder   
.   
UseSqlServer   &
(  & '
$str	  ' Ñ
)
  Ñ Ö
;
  Ö Ü
	protected"" 
override"" 
void"" 
OnModelCreating"" +
(""+ ,
ModelBuilder"", 8
modelBuilder""9 E
)""E F
{## 
modelBuilder$$ 
.$$ 
Entity$$ 
<$$ 
DocType$$ #
>$$# $
($$$ %
entity$$% +
=>$$, .
{%% 	
entity&& 
.&& 
HasKey&& 
(&& 
e&& 
=>&& 
e&&  
.&&  !
DocType1&&! )
)&&) *
.&&* +
HasName&&+ 2
(&&2 3
$str&&3 S
)&&S T
;&&T U
entity(( 
.(( 
Property(( 
((( 
e(( 
=>((  
e((! "
.((" #
DocType1((# +
)((+ ,
.)) 
ValueGeneratedNever)) $
())$ %
)))% &
.** 
HasColumnName** 
(** 
$str** (
)**( )
;**) *
entity++ 
.++ 
Property++ 
(++ 
e++ 
=>++  
e++! "
.++" #
DocName++# *
)++* +
.,, 
HasMaxLength,, 
(,, 
$num,,  
),,  !
.-- 
	IsUnicode-- 
(-- 
false--  
)--  !
... 
IsFixedLength.. 
(.. 
)..  
.// 
HasColumnName// 
(// 
$str// (
)//( )
;//) *
entity00 
.00 
Property00 
(00 
e00 
=>00  
e00! "
.00" #
Isactive00# +
)00+ ,
.00, -
HasColumnName00- :
(00: ;
$str00; E
)00E F
;00F G
}11 	
)11	 

;11
 
modelBuilder33 
.33 
Entity33 
<33 
Document33 $
>33$ %
(33% &
entity33& ,
=>33- /
{44 	
entity55 
.55 
HasKey55 
(55 
e55 
=>55 
e55  
.55  !
DocId55! &
)55& '
.55' (
HasName55( /
(55/ 0
$str550 P
)55P Q
;55Q R
entity77 
.77 
HasOne77 
(77 
d77 
=>77 
d77  
.77  !
DocType77! (
)77( )
.77) *
WithMany77* 2
(772 3
p773 4
=>775 7
p778 9
.779 :
	Documents77: C
)77C D
.88 
HasForeignKey88 
(88 
d88  
=>88! #
d88$ %
.88% &
	DocTypeId88& /
)88/ 0
.99 
OnDelete99 
(99 
DeleteBehavior99 (
.99( )
ClientSetNull99) 6
)996 7
.:: 
HasConstraintName:: "
(::" #
$str::# 2
)::2 3
;::3 4
entity<< 
.<< 
HasOne<< 
(<< 
d<< 
=><< 
d<<  
.<<  !
Enq<<! $
)<<$ %
.<<% &
WithMany<<& .
(<<. /
p<</ 0
=><<1 3
p<<4 5
.<<5 6
	Documents<<6 ?
)<<? @
.== 
HasForeignKey== 
(== 
d==  
=>==! #
d==$ %
.==% &
EnqId==& +
)==+ ,
.>> 
OnDelete>> 
(>> 
DeleteBehavior>> (
.>>( )
ClientSetNull>>) 6
)>>6 7
.?? 
HasConstraintName?? "
(??" #
$str??# 5
)??5 6
;??6 7
}@@ 	
)@@	 

;@@
 
modelBuilderBB 
.BB 
EntityBB 
<BB 
EnquirerBB $
>BB$ %
(BB% &
entityBB& ,
=>BB- /
{CC 	
entityDD 
.DD 
HasKeyDD 
(DD 
eDD 
=>DD 
eDD  
.DD  !
	EnquiryIdDD! *
)DD* +
.DD+ ,
HasNameDD, 3
(DD3 4
$strDD4 T
)DDT U
;DDU V
entityFF 
.FF 
ToTableFF 
(FF 
$strFF %
)FF% &
;FF& '
entityHH 
.HH 
PropertyHH 
(HH 
eHH 
=>HH  
eHH! "
.HH" #
AddrHH# '
)HH' (
.HH( )
HasMaxLengthHH) 5
(HH5 6
$numHH6 9
)HH9 :
;HH: ;
entityII 
.II 
PropertyII 
(II 
eII 
=>II  
eII! "
.II" #
CityII# '
)II' (
.II( )
HasMaxLengthII) 5
(II5 6
$numII6 9
)II9 :
;II: ;
entityJJ 
.JJ 
PropertyJJ 
(JJ 
eJJ 
=>JJ  
eJJ! "
.JJ" #
CountryJJ# *
)JJ* +
.JJ+ ,
HasMaxLengthJJ, 8
(JJ8 9
$numJJ9 <
)JJ< =
;JJ= >
entityKK 
.KK 
PropertyKK 
(KK 
eKK 
=>KK  
eKK! "
.KK" #
DobKK# &
)KK& '
.KK' (
HasColumnNameKK( 5
(KK5 6
$strKK6 ;
)KK; <
;KK< =
entityLL 
.LL 
PropertyLL 
(LL 
eLL 
=>LL  
eLL! "
.LL" #
EmailLL# (
)LL( )
.LL) *
HasMaxLengthLL* 6
(LL6 7
$numLL7 :
)LL: ;
;LL; <
entityMM 
.MM 
PropertyMM 
(MM 
eMM 
=>MM  
eMM! "
.MM" #
	FirstNameMM# ,
)MM, -
.MM- .
HasMaxLengthMM. :
(MM: ;
$numMM; >
)MM> ?
;MM? @
entityNN 
.NN 
PropertyNN 
(NN 
eNN 
=>NN  
eNN! "
.NN" #
GenderNN# )
)NN) *
.NN* +
HasMaxLengthNN+ 7
(NN7 8
$numNN8 :
)NN: ;
;NN; <
entityOO 
.OO 
PropertyOO 
(OO 
eOO 
=>OO  
eOO! "
.OO" #
LastNameOO# +
)OO+ ,
.OO, -
HasMaxLengthOO- 9
(OO9 :
$numOO: =
)OO= >
;OO> ?
entityPP 
.PP 
PropertyPP 
(PP 
ePP 
=>PP  
ePP! "
.PP" #
MaritalStatusPP# 0
)PP0 1
.PP1 2
HasMaxLengthPP2 >
(PP> ?
$numPP? B
)PPB C
;PPC D
entityQQ 
.QQ 
PropertyQQ 
(QQ 
eQQ 
=>QQ  
eQQ! "
.QQ" #
PhoneNoQQ# *
)QQ* +
.QQ+ ,
HasMaxLengthQQ, 8
(QQ8 9
$numQQ9 ;
)QQ; <
;QQ< =
entityRR 
.RR 
PropertyRR 
(RR 
eRR 
=>RR  
eRR! "
.RR" #
PinCodeRR# *
)RR* +
.RR+ ,
HasMaxLengthRR, 8
(RR8 9
$numRR9 :
)RR: ;
;RR; <
entitySS 
.SS 
PropertySS 
(SS 
eSS 
=>SS  
eSS! "
.SS" #
StatSS# '
)SS' (
.SS( )
HasMaxLengthSS) 5
(SS5 6
$numSS6 9
)SS9 :
;SS: ;
entityUU 
.UU 
HasOneUU 
(UU 
dUU 
=>UU 
dUU  
.UU  !
EmployeeUU! )
)UU) *
.UU* +
WithManyUU+ 3
(UU3 4
pUU4 5
=>UU6 8
pUU9 :
.UU: ;
	EnquirersUU; D
)UUD E
.VV 
HasForeignKeyVV 
(VV 
dVV  
=>VV! #
dVV$ %
.VV% &

EmployeeIdVV& 0
)VV0 1
.WW 
HasConstraintNameWW "
(WW" #
$strWW# 7
)WW7 8
;WW8 9
}XX 	
)XX	 

;XX
 
modelBuilderZZ 
.ZZ 
EntityZZ 
<ZZ 
ManagerZZ #
>ZZ# $
(ZZ$ %
entityZZ% +
=>ZZ, .
{[[ 	
entity\\ 
.\\ 
HasKey\\ 
(\\ 
e\\ 
=>\\ 
e\\  
.\\  !
EmpId\\! &
)\\& '
.\\' (
HasName\\( /
(\\/ 0
$str\\0 P
)\\P Q
;\\Q R
entity^^ 
.^^ 
Property^^ 
(^^ 
e^^ 
=>^^  
e^^! "
.^^" #
EmpId^^# (
)^^( )
.__ 
ValueGeneratedNever__ $
(__$ %
)__% &
.`` 
HasColumnName`` 
(`` 
$str`` '
)``' (
;``( )
entityaa 
.aa 
Propertyaa 
(aa 
eaa 
=>aa  
eaa! "
.aa" #
AddressLineaa# .
)aa. /
.bb 
HasMaxLengthbb 
(bb 
$numbb !
)bb! "
.cc 
	IsUnicodecc 
(cc 
falsecc  
)cc  !
;cc! "
entitydd 
.dd 
Propertydd 
(dd 
edd 
=>dd  
edd! "
.dd" #
Citydd# '
)dd' (
.ee 
HasMaxLengthee 
(ee 
$numee  
)ee  !
.ff 
	IsUnicodeff 
(ff 
falseff  
)ff  !
;ff! "
entitygg 
.gg 
Propertygg 
(gg 
egg 
=>gg  
egg! "
.gg" #
Countrygg# *
)gg* +
.hh 
HasMaxLengthhh 
(hh 
$numhh  
)hh  !
.ii 
	IsUnicodeii 
(ii 
falseii  
)ii  !
;ii! "
entityjj 
.jj 
Propertyjj 
(jj 
ejj 
=>jj  
ejj! "
.jj" #
Emailjj# (
)jj( )
.kk 
HasMaxLengthkk 
(kk 
$numkk  
)kk  !
.ll 
	IsUnicodell 
(ll 
falsell  
)ll  !
;ll! "
entitymm 
.mm 
Propertymm 
(mm 
emm 
=>mm  
emm! "
.mm" #
	FirstNamemm# ,
)mm, -
.nn 
HasMaxLengthnn 
(nn 
$numnn  
)nn  !
.oo 
	IsUnicodeoo 
(oo 
falseoo  
)oo  !
;oo! "
entitypp 
.pp 
Propertypp 
(pp 
epp 
=>pp  
epp! "
.pp" #
LastNamepp# +
)pp+ ,
.qq 
HasMaxLengthqq 
(qq 
$numqq  
)qq  !
.rr 
	IsUnicoderr 
(rr 
falserr  
)rr  !
;rr! "
entityss 
.ss 
Propertyss 
(ss 
ess 
=>ss  
ess! "
.ss" #
PhoneNumberss# .
)ss. /
.tt 
HasMaxLengthtt 
(tt 
$numtt  
)tt  !
.uu 
	IsUnicodeuu 
(uu 
falseuu  
)uu  !
.vv 
IsFixedLengthvv 
(vv 
)vv  
;vv  !
}ww 	
)ww	 

;ww
 
modelBuilderyy 
.yy 
Entityyy 
<yy 
MgrAssignedEnquireyy .
>yy. /
(yy/ 0
entityyy0 6
=>yy7 9
{zz 	
entity{{ 
.{{ 
HasKey{{ 
({{ 
e{{ 
=>{{ 
e{{  
.{{  !!
MgrAssignedEnquiresId{{! 6
){{6 7
.{{7 8
HasName{{8 ?
({{? @
$str{{@ `
){{` a
;{{a b
entity}} 
.}} 
Property}} 
(}} 
e}} 
=>}}  
e}}! "
.}}" #
Isprocessed}}# .
)}}. /
.}}/ 0
HasColumnName}}0 =
(}}= >
$str}}> K
)}}K L
;}}L M
entity 
. 
HasOne 
( 
d 
=> 
d  
.  !
Emp! $
)$ %
.% &
WithMany& .
(. /
p/ 0
=>1 3
p4 5
.5 6
MgrAssignedEnquires6 I
)I J
.
ÄÄ 
HasForeignKey
ÄÄ 
(
ÄÄ 
d
ÄÄ  
=>
ÄÄ! #
d
ÄÄ$ %
.
ÄÄ% &
EmpId
ÄÄ& +
)
ÄÄ+ ,
.
ÅÅ 
HasConstraintName
ÅÅ "
(
ÅÅ" #
$str
ÅÅ# -
)
ÅÅ- .
;
ÅÅ. /
entity
ÉÉ 
.
ÉÉ 
HasOne
ÉÉ 
(
ÉÉ 
d
ÉÉ 
=>
ÉÉ 
d
ÉÉ  
.
ÉÉ  !
Enquiry
ÉÉ! (
)
ÉÉ( )
.
ÉÉ) *
WithMany
ÉÉ* 2
(
ÉÉ2 3
p
ÉÉ3 4
=>
ÉÉ5 7
p
ÉÉ8 9
.
ÉÉ9 :!
MgrAssignedEnquires
ÉÉ: M
)
ÉÉM N
.
ÑÑ 
HasForeignKey
ÑÑ 
(
ÑÑ 
d
ÑÑ  
=>
ÑÑ! #
d
ÑÑ$ %
.
ÑÑ% &
	EnquiryId
ÑÑ& /
)
ÑÑ/ 0
.
ÖÖ 
HasConstraintName
ÖÖ "
(
ÖÖ" #
$str
ÖÖ# -
)
ÖÖ- .
;
ÖÖ. /
}
ÜÜ 	
)
ÜÜ	 

;
ÜÜ
 $
OnModelCreatingPartial
àà 
(
àà 
modelBuilder
àà +
)
àà+ ,
;
àà, -
}
ââ 
partial
ãã 
void
ãã $
OnModelCreatingPartial
ãã '
(
ãã' (
ModelBuilder
ãã( 4
modelBuilder
ãã5 A
)
ããA B
;
ããB C
}åå ‹%
NC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\Enquirer.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[		 #
ExcludeFromCodeCoverage		 
]		 
public

 
partial

 
class

 
Enquirer

 
{ 
public 

int 
	EnquiryId 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
=& '
null( ,
!, -
;- .
public 

string 
	FirstName 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 

string 
LastName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
Addr 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
PhoneNo 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
City 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
Stat 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
Country 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
PinCode 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public   

string   
MaritalStatus   
{    !
get  " %
;  % &
set  ' *
;  * +
}  , -
=  . /
null  0 4
!  4 5
;  5 6
public"" 

string"" 
Gender"" 
{"" 
get"" 
;"" 
set""  #
;""# $
}""% &
=""' (
null"") -
!""- .
;"". /
public$$ 

int$$ 
Age$$ 
{$$ 
get$$ 
;$$ 
set$$ 
;$$ 
}$$  
public&& 

int&& 
Status&& 
{&& 
get&& 
;&& 
set&&  
;&&  !
}&&" #
public(( 

DateTime(( 
Dob(( 
{(( 
get(( 
;(( 
set(( "
;((" #
}(($ %
public** 

int** 
?** 

EmployeeId** 
{** 
get**  
;**  !
set**" %
;**% &
}**' (
[,, 
	BindNever,, 
],, 
[-- 

JsonIgnore-- 
]-- 
public.. 

virtual.. 
ICollection.. 
<.. 
Document.. '
>..' (
	Documents..) 2
{..3 4
get..5 8
;..8 9
set..: =
;..= >
}..? @
=..A B
new..C F
List..G K
<..K L
Document..L T
>..T U
(..U V
)..V W
;..W X
[// 
	BindNever// 
]// 
[00 

JsonIgnore00 
]00 
public11 

virtual11 
Manager11 
?11 
Employee11 $
{11% &
get11' *
;11* +
set11, /
;11/ 0
}111 2
[22 
	BindNever22 
]22 
[33 

JsonIgnore33 
]33 
public44 

virtual44 
ICollection44 
<44 
MgrAssignedEnquire44 1
>441 2
MgrAssignedEnquires443 F
{44G H
get44I L
;44L M
set44N Q
;44Q R
}44S T
=44U V
new44W Z
List44[ _
<44_ `
MgrAssignedEnquire44` r
>44r s
(44s t
)44t u
;44u v
}55 ´
UC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\DocumentRequest.cs
	namespace 	
EnquiryModule
 
. 
Models 
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
DocumentRequest  
{ 
public		 
int		 
DocId		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

 
int

 
EnqId

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
int 
CustId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	DocTypeId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Status 
{ 
get 
;  
set! $
;$ %
}& '
public 
	IFormFile 
? 
Doc 
{ 
get  #
;# $
set% (
;( )
}* +
} 
public 

class 
DocWithImageData !
{ 
public 
DocumentRequest 
DocModel '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
	ImageData 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} Ø
NC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\Document.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
Document 
{		 
public

 

int

 
DocId

 
{

 
get

 
;

 
set

 
;

  
}

! "
public 

int 
EnqId 
{ 
get 
; 
set 
;  
}! "
public 

int 
? 
CustId 
{ 
get 
; 
set !
;! "
}# $
public 

int 
	DocTypeId 
{ 
get 
; 
set  #
;# $
}% &
public 

int 
Status 
{ 
get 
; 
set  
;  !
}" #
public 

byte 
[ 
] 
Doc 
{ 
get 
; 
set  
;  !
}" #
=$ %
null& *
!* +
;+ ,
public 

virtual 
DocType 
DocType "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
null3 7
!7 8
;8 9
public 

virtual 
Enquirer 
Enq 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
} Ê	
MC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\DocType.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
DocType 
{		 
public

 

int

 
DocType1

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 

string 
DocName 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

bool 
Isactive 
{ 
get 
; 
set  #
;# $
}% &
public 

virtual 
ICollection 
< 
Document '
>' (
	Documents) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
=A B
newC F
ListG K
<K L
DocumentL T
>T U
(U V
)V W
;W X
} ±
\C:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Infrastructure\IEnquiryModule.cs
	namespace 	
EnquiryModule
 
. 
Infrastructure &
{ 
public 

	interface 
IEnquiryModule #
{ 
public 
Enquirer 
CreateEnquiry %
(% &
Enquirer& .
enquirer/ 7
)7 8
;8 9
public		 
Enquirer		 
UpdateEnquirer		 &
(		& '
Enquirer		' /
enquirer		0 8
)		8 9
;		9 :
public 
Enquirer 
GetEnquirer #
(# $
int$ '
	EnquiryId( 1
)1 2
;2 3
public 
Document 
CreateDocument &
(& '
int' *
enqId+ 0
,0 1
int2 5
custId6 <
,< =
int> A
docTypeB I
,I J
byteK O
[O P
]P Q
docDataR Y
)Y Z
;Z [
public 
DocWithImageData 
GetDocument  +
(+ ,
int, /
DocId0 5
)5 6
;6 7
public 
Document 
UpdateDocument &
(& '
Document' /
document0 8
)8 9
;9 :
public 
int 
AssignManager  
(  !
int! $
	EnquiryId% .
). /
;/ 0
} 
} ˘n
_C:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Infrastructure\EnquiryModuleRepo.cs
	namespace 	
EnquiryModule
 
. 
Infrastructure &
{ 
public 

class 
EnquiryModuleRepo "
:# $
IEnquiryModule% 3
{ 
private		 
readonly		  
EnquiryModuleContext		 -
_db		. 1
;		1 2
public

 
EnquiryModuleRepo

  
(

  ! 
EnquiryModuleContext

! 5
db

6 8
)

8 9
{ 	
_db 
= 
db 
; 
} 	
public 
Document 
CreateDocument &
(& '
int' *
enqId+ 0
,0 1
int2 5
custId6 <
,< =
int> A
docTypeB I
,I J
byteK O
[O P
]P Q
docDataR Y
)Y Z
{ 	
Document 
document 
= 
new  #
Document$ ,
(, -
)- .
;. /
document 
. 
EnqId 
= 
enqId "
;" #
document 
. 
CustId 
= 
custId $
;$ %
document 
. 
	DocTypeId 
=  
docType! (
;( )
document 
. 
Status 
= 
$num 
;  
document 
. 
Doc 
= 
docData "
;" #
_db 
. 
	Documents 
. 
Add 
( 
document &
)& '
;' (
_db 
. 
SaveChanges 
( 
) 
; 
return 
document 
; 
} 	
public 
Enquirer 
CreateEnquiry %
(% &
Enquirer& .
enquirer/ 7
)7 8
{ 	
_db"" 
."" 
	Enquirers"" 
."" 
Add"" 
("" 
enquirer"" %
)""% &
;""& '
_db## 
.## 
SaveChanges## 
(## 
)## 
;## 
return$$ 
enquirer$$ 
;$$ 
}&& 	
public(( 
Enquirer(( 
GetEnquirer(( #
(((# $
int(($ '
	EnquiryId((( 1
)((1 2
{)) 	
return** 
_db** 
.** 
	Enquirers** 
.**  
FirstOrDefault**  .
(**. /
e**/ 0
=>**0 2
e**2 3
.**3 4
	EnquiryId**4 =
==**> @
	EnquiryId**A J
)**J K
;**K L
}++ 	
public// 
Enquirer// 
UpdateEnquirer// &
(//& '
Enquirer//' /
enquirer//0 8
)//8 9
{00 	
_db11 
.11 
	Enquirers11 
.22 
Where22 
(22 
c22 
=>22 
c22 
.22 
	EnquiryId22 #
==22$ &
enquirer22' /
.22/ 0
	EnquiryId220 9
)229 :
.33 
ExecuteUpdate33 
(33 
setters33 "
=>33# %
setters44 
.44 
SetProperty44 #
(44# $
p44$ %
=>44& (
p44) *
.44* +
Email44+ 0
,440 1
enquirer442 :
.44: ;
Email44; @
)44@ A
.55 
SetProperty55 #
(55# $
p55$ %
=>55& (
p55) *
.55* +
	FirstName55+ 4
,554 5
enquirer556 >
.55> ?
	FirstName55? H
)55H I
.66 
SetProperty66 #
(66# $
p66$ %
=>66& (
p66) *
.66* +
LastName66+ 3
,663 4
enquirer665 =
.66= >
LastName66> F
)66F G
.77 
SetProperty77 #
(77# $
p77$ %
=>77& (
p77) *
.77* +
Addr77+ /
,77/ 0
enquirer771 9
.779 :
Addr77: >
)77> ?
.88 
SetProperty88 #
(88# $
p88$ %
=>88& (
p88) *
.88* +
PhoneNo88+ 2
,882 3
enquirer884 <
.88< =
PhoneNo88= D
)88D E
.99 
SetProperty99 #
(99# $
p99$ %
=>99& (
p99) *
.99* +
City99+ /
,99/ 0
enquirer991 9
.999 :
City99: >
)99> ?
.:: 
SetProperty:: #
(::# $
p::$ %
=>::& (
p::) *
.::* +
Stat::+ /
,::/ 0
enquirer::1 9
.::9 :
Stat::: >
)::> ?
.;; 
SetProperty;; #
(;;# $
p;;$ %
=>;;& (
p;;) *
.;;* +
Country;;+ 2
,;;2 3
enquirer;;4 <
.;;< =
Country;;= D
);;D E
.<< 
SetProperty<< #
(<<# $
p<<$ %
=><<& (
p<<) *
.<<* +
PinCode<<+ 2
,<<2 3
enquirer<<4 <
.<<< =
PinCode<<= D
)<<D E
.== 
SetProperty== #
(==# $
p==$ %
=>==& (
p==) *
.==* +
MaritalStatus==+ 8
,==8 9
enquirer==: B
.==B C
MaritalStatus==C P
)==P Q
.>> 
SetProperty>> #
(>># $
p>>$ %
=>>>& (
p>>) *
.>>* +
Gender>>+ 1
,>>1 2
enquirer>>3 ;
.>>; <
Gender>>< B
)>>B C
.?? 
SetProperty?? #
(??# $
p??$ %
=>??& (
p??) *
.??* +
Age??+ .
,??. /
enquirer??0 8
.??8 9
Age??9 <
)??< =
.@@ 
SetProperty@@ #
(@@# $
p@@$ %
=>@@& (
p@@) *
.@@* +
Status@@+ 1
,@@1 2
enquirer@@3 ;
.@@; <
Status@@< B
)@@B C
.AA 
SetPropertyAA #
(AA# $
pAA$ %
=>AA& (
pAA) *
.AA* +
DobAA+ .
,AA. /
enquirerAA0 8
.AA8 9
DobAA9 <
)AA< =
.BB 
SetPropertyBB #
(BB# $
pBB$ %
=>BB& (
pBB) *
.BB* +

EmployeeIdBB+ 5
,BB5 6
enquirerBB7 ?
.BB? @

EmployeeIdBB@ J
)BBJ K
)CC 
;CC 
_dbDD 
.DD 
SaveChangesDD 
(DD 
)DD 
;DD 
returnEE 
enquirerEE 
;EE 
}FF 	
publicHH 
DocWithImageDataHH 
GetDocumentHH  +
(HH+ ,
intHH, /
DocIdHH0 5
)HH5 6
{II 	
varJJ 
documentJJ 
=JJ 
_dbJJ 
.JJ  
	DocumentsJJ  )
.JJ) *
FirstOrDefaultJJ* 8
(JJ8 9
eJJ9 :
=>JJ: <
eJJ< =
.JJ= >
DocIdJJ> C
==JJD F
DocIdJJG L
)JJL M
;JJM N
ifKK 
(KK 
documentKK 
==KK 
nullKK 
)KK  
{LL 
returnMM 
nullMM 
;MM 
}NN 
varOO 
docModelOO 
=OO 
newOO 
DocumentRequestOO .
{PP 
DocIdQQ 
=QQ 
documentQQ  
.QQ  !
DocIdQQ! &
,QQ& '
EnqIdRR 
=RR 
documentRR  
.RR  !
EnqIdRR! &
,RR& '
	DocTypeIdSS 
=SS 
documentSS $
.SS$ %
	DocTypeIdSS% .
,SS. /
StatusTT 
=TT 
documentTT !
.TT! "
StatusTT" (
}UU 
;UU 
varWW 
	imageDataWW 
=WW 
(WW 
byteWW !
[WW! "
]WW" #
)WW# $
documentWW$ ,
.WW, -
DocWW- 0
;WW0 1
varXX 
base64ImageXX 
=XX 
ConvertXX %
.XX% &
ToBase64StringXX& 4
(XX4 5
	imageDataXX5 >
)XX> ?
;XX? @
returnYY 
newYY 
DocWithImageDataYY '
{YY( )
DocModelYY* 2
=YY3 4
docModelYY5 =
,YY= >
	ImageDataYY? H
=YYI J
$strYYK d
+YYe f
base64ImageYYg r
}YYs t
;YYt u
}ZZ 	
public\\ 
Document\\ 
UpdateDocument\\ &
(\\& '
Document\\' /
document\\0 8
)\\8 9
{]] 	
_db^^ 
.^^ 
	Documents^^ 
.__	 

Where__
 
(__ 
d__ 
=>__ 
d__ 
.__ 
DocId__ 
==__ 
document__  (
.__( )
DocId__) .
)__. /
.`` 
ExecuteUpdate`` 
(`` 
setters`` "
=>``# %
settersaa 
.aa 
SetPropertyaa  
(aa  !
paa! "
=>aa# %
paa& '
.aa' (
EnqIdaa( -
,aa- .
documentaa/ 7
.aa7 8
EnqIdaa8 =
)aa= >
.bb 
SetPropertybb  
(bb  !
pbb! "
=>bb# %
pbb& '
.bb' (
CustIdbb( .
,bb. /
documentbb0 8
.bb8 9
CustIdbb9 ?
)bb? @
.cc 
SetPropertycc  
(cc  !
pcc! "
=>cc# %
pcc& '
.cc' (
	DocTypeIdcc( 1
,cc1 2
documentcc3 ;
.cc; <
	DocTypeIdcc< E
)ccE F
.dd 
SetPropertydd  
(dd  !
pdd! "
=>dd# %
pdd& '
.dd' (
Statusdd( .
,dd. /
documentdd0 8
.dd8 9
Statusdd9 ?
)dd? @
.ee 
SetPropertyee  
(ee  !
pee! "
=>ee# %
pee& '
.ee' (
Docee( +
,ee+ ,
documentee- 5
.ee5 6
Docee6 9
)ee9 :
)ff	 

;ff
 
_dbhh 
.hh 
SaveChangeshh 
(hh 
)hh 
;hh 
returnjj 
documentjj 
;jj 
}kk 	
publicll 
intll 
AssignManagerll  
(ll  !
intll! $
EnqIdll% *
)ll* +
{mm 	
varnn 
enquirynn 
=nn 
GetEnquirernn %
(nn% &
EnqIdnn& +
)nn+ ,
;nn, -
ifoo 
(oo 
enquiryoo 
==oo 
nulloo 
)oo  
returnpp 
-pp 
$numpp 
;pp 
varrr  
leastLoadedManagerIdrr $
=rr% &
_dbrr' *
.rr* +
MgrAssignedEnquiresrr+ >
.ss 
Wheress 
(ss 
mss 
=>ss 
mss 
.ss 
Isprocessedss &
!=ss' )
truess* .
)ss. /
.tt 
GroupBytt 
(tt 
mtt 
=>tt 
mtt 
.tt 
EmpIdtt "
)tt" #
.uu 
Selectuu 
(uu 
groupuu 
=>uu 
newuu !
{vv 
EmpIdww 
=ww 
groupww 
.ww 
Keyww "
,ww" #
EnquiryCountxx 
=xx 
groupxx  %
.xx% &
Countxx& +
(xx+ ,
)xx, -
}yy 
)yy 
.zz 
OrderByzz 
(zz 
xzz 
=>zz 
xzz 
.zz 
EnquiryCountzz )
)zz) *
.{{ 
Select{{ 
({{ 
x{{ 
=>{{ 
x{{ 
.{{ 
EmpId{{ !
){{! "
.|| 
FirstOrDefault|| 
(|| 
)|| 
;|| 
if~~ 
(~~  
leastLoadedManagerId~~ $
.~~$ %
HasValue~~% -
)~~- .
{ 
var
ÅÅ 
newAssignment
ÅÅ !
=
ÅÅ" #
new
ÅÅ$ ' 
MgrAssignedEnquire
ÅÅ( :
{
ÇÇ 
EmpId
ÉÉ 
=
ÉÉ "
leastLoadedManagerId
ÉÉ 0
.
ÉÉ0 1
Value
ÉÉ1 6
,
ÉÉ6 7
	EnquiryId
ÑÑ 
=
ÑÑ 
EnqId
ÑÑ  %
,
ÑÑ% &
Isprocessed
ÖÖ 
=
ÖÖ  !
false
ÖÖ" '
}
ÜÜ 
;
ÜÜ 
_db
àà 
.
àà !
MgrAssignedEnquires
àà '
.
àà' (
Add
àà( +
(
àà+ ,
newAssignment
àà, 9
)
àà9 :
;
àà: ;
_db
ââ 
.
ââ 
SaveChanges
ââ 
(
ââ  
)
ââ  !
;
ââ! "
return
ää "
leastLoadedManagerId
ää +
.
ää+ ,
Value
ää, 1
;
ää1 2
}
ãã 
else
åå 
{
çç 
throw
éé 
new
éé 
	Exception
éé #
(
éé# $
$str
éé$ W
)
ééW X
;
ééX Y
}
êê 
return
ëë 
-
ëë 
$num
ëë 
;
ëë 
}
íí 	
public
ìì 
int
ìì 
GetAllEnquires
ìì !
(
ìì! "
)
ìì" #
{
îî 	
return
ïï 
_db
ïï 
.
ïï 
	Enquirers
ïï  
.
ïï  !
ToList
ïï! '
(
ïï' (
)
ïï( )
.
ïï) *
Count
ïï* /
(
ïï/ 0
)
ïï0 1
;
ïï1 2
}
ññ 	
}
óó 
}òò «T
\C:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Controllers\EnquiryController.cs
	namespace 	
EnquiryModule
 
. 
Controllers #
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
EnquiryController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
EnquiryModuleRepo *
_repo+ 0
;0 1
public 
EnquiryController  
(  !
EnquiryModuleRepo! 2
repo3 7
)7 8
{ 	
_repo 
= 
repo 
; 
} 	
[ 	
HttpPost	 
( 
$str !
)! "
]" #
public 
IActionResult 
CreateEnquiry *
(* +
[+ ,
FromBody, 4
]4 5
Enquirer6 >
enquirer? G
)G H
{ 	
try 
{ 
if 
( 
enquirer 
is 
null  $
)$ %
{ 
return 

BadRequest %
(% &
$str& D
)D E
;E F
} 
else 
if 
( 
GetEnquiryById '
(' (
enquirer( 0
.0 1
	EnquiryId1 :
): ;
is< >
null? C
)C D
{ 
return 
Ok 
( 
_repo #
.# $
CreateEnquiry$ 1
(1 2
enquirer2 :
): ;
); <
;< =
} 
else   
{!! 
return"" 

BadRequest"" %
(""% &
$str""& =
)""= >
;""> ?
}## 
}$$ 
catch$$ 
($$ 
	Exception$$ 
ex$$  
)$$  !
{%% 
return&& 

BadRequest&& 
(&& 
ex&& !
.&&! "
Message&&" )
)&&) *
;&&* +
}'' 
}** 	
[++ 	
HttpGet++	 
(++ 
$str++ 
)++ 
]++ 
public,, 
IActionResult,, 
GetEnquiryById,, +
(,,+ ,
int,,, /
	EnquiryId,,0 9
),,9 :
{-- 	
var.. 
enquirer.. 
=.. 
_repo..  
...  !
GetEnquirer..! ,
(.., -
	EnquiryId..- 6
)..6 7
;..7 8
if// 
(// 
enquirer// 
==// 
null//  
)//  !
{00 
return11 
NotFound11 
(11  
)11  !
;11! "
}22 
return33 
Ok33 
(33 
enquirer33 
)33 
;33  
}44 	
[66 	
HttpPut66	 
(66 
$str66  
)66  !
]66! "
public77 
IActionResult77 
UpdateEnquiry77 *
(77* +
[77+ ,
FromBody77, 4
]774 5
Enquirer776 >
enquirer77? G
)77G H
{88 	
try99 
{:: 
return<< 
Ok<< 
(<< 
_repo<< 
.<< 
UpdateEnquirer<< *
(<<* +
enquirer<<+ 3
)<<3 4
)<<4 5
;<<5 6
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
return@@ 

BadRequest@@ !
(@@! "
ex@@" $
.@@$ %
Message@@% ,
)@@, -
;@@- .
}AA 
}BB 	
[CC 	
HttpPostCC	 
(CC 
$strCC "
)CC" #
]CC# $
publicDD 
asyncDD 
TaskDD 
<DD 
IActionResultDD '
>DD' (
UploadDocumentDD) 7
(DD7 8
DocumentRequestDD8 G
docModelDDH P
)DDP Q
{EE 	
ifFF 
(FF 
docModelFF 
==FF 
nullFF  
||FF! #
docModelFF$ ,
.FF, -
DocFF- 0
==FF1 3
nullFF4 8
||FF9 ;
docModelFF< D
.FFD E
DocFFE H
.FFH I
LengthFFI O
==FFP R
$numFFS T
)FFT U
returnGG 

BadRequestGG !
(GG! "
$strGG" 4
)GG4 5
;GG5 6
usingII 
(II 
varII 
memoryStreamII #
=II$ %
newII& )
MemoryStreamII* 6
(II6 7
)II7 8
)II8 9
{JJ 
awaitKK 
docModelKK 
.KK 
DocKK "
.KK" #
CopyToAsyncKK# .
(KK. /
memoryStreamKK/ ;
)KK; <
;KK< =
varLL 
docDataLL 
=LL 
memoryStreamLL *
.LL* +
ToArrayLL+ 2
(LL2 3
)LL3 4
;LL4 5
varOO 
docIdOO 
=OO 
_repoOO !
.OO! "
CreateDocumentOO" 0
(OO0 1
docModelOO1 9
.OO9 :
EnqIdOO: ?
,OO? @
docModelOOA I
.OOI J
CustIdOOJ P
,OOP Q
docModelOOR Z
.OOZ [
	DocTypeIdOO[ d
,OOd e
docDataOOf m
)OOm n
;OOn o
returnQQ 
OkQQ 
(QQ 
newQQ 
{QQ 
DocIdQQ  %
=QQ& '
docIdQQ( -
}QQ. /
)QQ/ 0
;QQ0 1
}RR 
}SS 	
[UU 	
HttpGetUU	 
(UU 
$strUU 
)UU 
]UU  
publicVV 
IActionResultVV 
GetDocumentByIdVV ,
(VV, -
intVV- 0
DocIdVV1 6
)VV6 7
{WW 	
varXX 
documentXX 
=XX 
_repoXX  
.XX  !
GetDocumentXX! ,
(XX, -
DocIdXX- 2
)XX2 3
;XX3 4
ifYY 
(YY 
documentYY 
isYY 
notYY 
nullYY  $
)YY$ %
returnZZ 
OkZZ 
(ZZ 
documentZZ "
)ZZ" #
;ZZ# $
return\\ 
NotFound\\ 
(\\ 
$str\\ 0
)\\0 1
;\\1 2
}]] 	
[__ 	
HttpPut__	 
(__ 
$str__ !
)__! "
]__" #
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
UpdateDocument``) 7
(``7 8
DocumentRequest``8 G
docModel``H P
)``P Q
{aa 	
ifbb 
(bb 
docModelbb 
==bb 
nullbb  
||bb! #
docModelbb$ ,
.bb, -
Docbb- 0
==bb1 3
nullbb4 8
||bb9 ;
docModelbb< D
.bbD E
DocbbE H
.bbH I
LengthbbI O
==bbP R
$numbbS T
)bbT U
returncc 

BadRequestcc !
(cc! "
$strcc" 4
)cc4 5
;cc5 6
usingee 
(ee 
varee 
memoryStreamee #
=ee$ %
newee& )
MemoryStreamee* 6
(ee6 7
)ee7 8
)ee8 9
{ff 
awaitgg 
docModelgg 
.gg 
Docgg "
.gg" #
CopyToAsyncgg# .
(gg. /
memoryStreamgg/ ;
)gg; <
;gg< =
varhh 
docDatahh 
=hh 
memoryStreamhh *
.hh* +
ToArrayhh+ 2
(hh2 3
)hh3 4
;hh4 5
Documentjj 
documentjj !
=jj" #
newjj$ '
Documentjj( 0
(jj0 1
)jj1 2
;jj2 3
documentkk 
.kk 
DocIdkk 
=kk  
docModelkk! )
.kk) *
DocIdkk* /
;kk/ 0
documentll 
.ll 
EnqIdll 
=ll  
docModelll! )
.ll) *
EnqIdll* /
;ll/ 0
documentmm 
.mm 
CustIdmm 
=mm  !
docModelmm" *
.mm* +
CustIdmm+ 1
;mm1 2
documentnn 
.nn 
Statusnn 
=nn  !
docModelnn" *
.nn* +
Statusnn+ 1
;nn1 2
documentoo 
.oo 
Docoo 
=oo 
docDataoo &
;oo& '
documentpp 
.pp 
	DocTypeIdpp "
=pp# $
docModelpp% -
.pp- .
	DocTypeIdpp. 7
;pp7 8
varqq 
docIdqq 
=qq 
_repoqq !
.qq! "
UpdateDocumentqq" 0
(qq0 1
documentqq1 9
)qq9 :
;qq: ;
varss 
base64Imagess 
=ss  !
Convertss" )
.ss) *
ToBase64Stringss* 8
(ss8 9
documentss9 A
.ssA B
DocssB E
)ssE F
;ssF G
returnuu 
Okuu 
(uu 
newuu 
{uu 
DocIduu  %
=uu& '
docIduu( -
,uu- .
UpdatedImageuu. :
=uu: ;
$struu< U
+uuV W
base64ImageuuX c
}uud e
)uue f
;uuf g
}vv 
}ww 	
[xx 	
HttpPostxx	 
(xx 
$strxx !
)xx! "
]xx" #
publicyy 
IActionResultyy 
AssignManageryy *
(yy* +
intyy+ .
EnqIdyy/ 4
)yy4 5
{zz 	
var{{ 
response{{ 
={{ 
_repo{{  
.{{  !
AssignManager{{! .
({{. /
EnqId{{/ 4
){{4 5
;{{5 6
if|| 
(|| 
response|| 
==|| 
-|| 
$num|| 
)|| 
return}} 
NotFound}} 
(}}  
$str}}  3
)}}3 4
;}}4 5
return 
Ok 
( 
response 
) 
;  
}
ÄÄ 	
[
ÅÅ 	
HttpGet
ÅÅ	 
(
ÅÅ 
$str
ÅÅ !
)
ÅÅ! "
]
ÅÅ" #
public
ÇÇ 
int
ÇÇ 
GetAllEnquires
ÇÇ !
(
ÇÇ! "
)
ÇÇ" #
{
ÉÉ 	
return
ÑÑ 
_repo
ÑÑ 
.
ÑÑ 
GetAllEnquires
ÑÑ '
(
ÑÑ' (
)
ÑÑ( )
;
ÑÑ) *
}
ÖÖ 	
}
áá 
}àà 