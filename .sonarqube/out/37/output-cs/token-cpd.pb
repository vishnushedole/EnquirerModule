é
XC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\MgrAssignedEnquire.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
MgrAssignedEnquire '
{		 
public

 

int

 !
MgrAssignedEnquiresId

 $
{

% &
get

' *
;

* +
set

, /
;

/ 0
}

1 2
public 

int 
? 
EmpId 
{ 
get 
; 
set  
;  !
}" #
public 

int 
? 
	EnquiryId 
{ 
get 
;  
set! $
;$ %
}& '
public 

bool 
? 
Isprocessed 
{ 
get "
;" #
set$ '
;' (
}) *
public 

virtual 
Manager 
? 
Emp 
{  !
get" %
;% &
set' *
;* +
}, -
public 

virtual 
Enquirer 
? 
Enquiry $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} Á
MC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\Manager.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
Manager 
{		 
public

 

int

 
EmpId

 
{

 
get

 
;

 
set

 
;

  
}

! "
public 

string 
	FirstName 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 

string 
LastName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

DateOnly 
DateOfBirth 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
AddressLine 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

int 
Pincode 
{ 
get 
; 
set !
;! "
}# $
public 

string 
PhoneNumber 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
=& '
null( ,
!, -
;- .
public 

string 
City 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
Country 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

int 
? 
NoOfEnq 
{ 
get 
; 
set "
;" #
}$ %
public   

virtual   
ICollection   
<   
Enquirer   '
>  ' (
	Enquirers  ) 2
{  3 4
get  5 8
;  8 9
set  : =
;  = >
}  ? @
=  A B
new  C F
List  G K
<  K L
Enquirer  L T
>  T U
(  U V
)  V W
;  W X
public"" 

virtual"" 
ICollection"" 
<"" 
MgrAssignedEnquire"" 1
>""1 2
MgrAssignedEnquires""3 F
{""G H
get""I L
;""L M
set""N Q
;""Q R
}""S T
=""U V
new""W Z
List""[ _
<""_ `
MgrAssignedEnquire""` r
>""r s
(""s t
)""t u
;""u v
}## º
FC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder		 
.		 
Services		 
.		 
	AddScoped		 
<		 
IEnquiryModule		 )
,		) *
EnquiryModuleRepo		+ <
>		< =
(		= >
)		> ?
;		? @
builder

 
.

 
Services

 
.

 
	AddScoped

 
<

 
EnquiryModuleRepo

 ,
>

, -
(

- .
)

. /
;

/ 0
builder 
. 
Services 
. 
AddDbContext 
<  
EnquiryModuleContext 2
>2 3
(3 4
options4 ;
=>< >
options 
. 
UseSqlServer 
( 
builder  
.  !
Configuration! .
.. /
GetConnectionString/ B
(B C
$str	C †
)
† °
)
° ¢
)
¢ £
;
£ §
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app 
. 
UseAuthorization 
( 
) 
; 
app   
.   
MapControllers   
(   
)   
;   
app"" 
."" 
Run"" 
("" 
)"" 	
;""	 
ÅÄ
ZC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\EnquiryModuleContext.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public		 
partial		 
class		  
EnquiryModuleContext		 )
:		* +
	DbContext		, 5
{

 
public 
 
EnquiryModuleContext 
(  
)  !
{ 
} 
public 
 
EnquiryModuleContext 
(  
DbContextOptions  0
<0 1 
EnquiryModuleContext1 E
>E F
optionsG N
)N O
: 	
base
 
( 
options 
) 
{ 
} 
public 

virtual 
DbSet 
< 
DocType  
>  !
DocTypes" *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

virtual 
DbSet 
< 
Document !
>! "
	Documents# ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

virtual 
DbSet 
< 
Enquirer !
>! "
	Enquirers# ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

virtual 
DbSet 
< 
Manager  
>  !
Managers" *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

virtual 
DbSet 
< 
MgrAssignedEnquire +
>+ ,
MgrAssignedEnquires- @
{A B
getC F
;F G
setH K
;K L
}M N
	protected 
override 
void 
OnConfiguring )
() *#
DbContextOptionsBuilder* A
optionsBuilderB P
)P Q
=>   

optionsBuilder   
.   
UseSqlServer   &
(  & '
$str	  ' Ñ
)
  Ñ Ö
;
  Ö Ü
	protected"" 
override"" 
void"" 
OnModelCreating"" +
(""+ ,
ModelBuilder"", 8
modelBuilder""9 E
)""E F
{## 
modelBuilder$$ 
.$$ 
Entity$$ 
<$$ 
DocType$$ #
>$$# $
($$$ %
entity$$% +
=>$$, .
{%% 	
entity&& 
.&& 
HasKey&& 
(&& 
e&& 
=>&& 
e&&  
.&&  !
DocType1&&! )
)&&) *
.&&* +
HasName&&+ 2
(&&2 3
$str&&3 S
)&&S T
;&&T U
entity(( 
.(( 
Property(( 
((( 
e(( 
=>((  
e((! "
.((" #
DocType1((# +
)((+ ,
.)) 
ValueGeneratedNever)) $
())$ %
)))% &
.** 
HasColumnName** 
(** 
$str** (
)**( )
;**) *
entity++ 
.++ 
Property++ 
(++ 
e++ 
=>++  
e++! "
.++" #
DocName++# *
)++* +
.,, 
HasMaxLength,, 
(,, 
$num,,  
),,  !
.-- 
	IsUnicode-- 
(-- 
false--  
)--  !
... 
IsFixedLength.. 
(.. 
)..  
.// 
HasColumnName// 
(// 
$str// (
)//( )
;//) *
entity00 
.00 
Property00 
(00 
e00 
=>00  
e00! "
.00" #
Isactive00# +
)00+ ,
.00, -
HasColumnName00- :
(00: ;
$str00; E
)00E F
;00F G
}11 	
)11	 

;11
 
modelBuilder33 
.33 
Entity33 
<33 
Document33 $
>33$ %
(33% &
entity33& ,
=>33- /
{44 	
entity55 
.55 
HasKey55 
(55 
e55 
=>55 
e55  
.55  !
DocId55! &
)55& '
.55' (
HasName55( /
(55/ 0
$str550 P
)55P Q
;55Q R
entity77 
.77 
HasOne77 
(77 
d77 
=>77 
d77  
.77  !
DocType77! (
)77( )
.77) *
WithMany77* 2
(772 3
p773 4
=>775 7
p778 9
.779 :
	Documents77: C
)77C D
.88 
HasForeignKey88 
(88 
d88  
=>88! #
d88$ %
.88% &
	DocTypeId88& /
)88/ 0
.99 
OnDelete99 
(99 
DeleteBehavior99 (
.99( )
ClientSetNull99) 6
)996 7
.:: 
HasConstraintName:: "
(::" #
$str::# 2
)::2 3
;::3 4
entity<< 
.<< 
HasOne<< 
(<< 
d<< 
=><< 
d<<  
.<<  !
Enq<<! $
)<<$ %
.<<% &
WithMany<<& .
(<<. /
p<</ 0
=><<1 3
p<<4 5
.<<5 6
	Documents<<6 ?
)<<? @
.== 
HasForeignKey== 
(== 
d==  
=>==! #
d==$ %
.==% &
EnqId==& +
)==+ ,
.>> 
OnDelete>> 
(>> 
DeleteBehavior>> (
.>>( )
ClientSetNull>>) 6
)>>6 7
.?? 
HasConstraintName?? "
(??" #
$str??# 5
)??5 6
;??6 7
}@@ 	
)@@	 

;@@
 
modelBuilderBB 
.BB 
EntityBB 
<BB 
EnquirerBB $
>BB$ %
(BB% &
entityBB& ,
=>BB- /
{CC 	
entityDD 
.DD 
HasKeyDD 
(DD 
eDD 
=>DD 
eDD  
.DD  !
	EnquiryIdDD! *
)DD* +
.DD+ ,
HasNameDD, 3
(DD3 4
$strDD4 T
)DDT U
;DDU V
entityFF 
.FF 
ToTableFF 
(FF 
$strFF %
)FF% &
;FF& '
entityHH 
.HH 
PropertyHH 
(HH 
eHH 
=>HH  
eHH! "
.HH" #
AddrHH# '
)HH' (
.HH( )
HasMaxLengthHH) 5
(HH5 6
$numHH6 9
)HH9 :
;HH: ;
entityII 
.II 
PropertyII 
(II 
eII 
=>II  
eII! "
.II" #
CityII# '
)II' (
.II( )
HasMaxLengthII) 5
(II5 6
$numII6 9
)II9 :
;II: ;
entityJJ 
.JJ 
PropertyJJ 
(JJ 
eJJ 
=>JJ  
eJJ! "
.JJ" #
CountryJJ# *
)JJ* +
.JJ+ ,
HasMaxLengthJJ, 8
(JJ8 9
$numJJ9 <
)JJ< =
;JJ= >
entityKK 
.KK 
PropertyKK 
(KK 
eKK 
=>KK  
eKK! "
.KK" #
DobKK# &
)KK& '
.KK' (
HasColumnNameKK( 5
(KK5 6
$strKK6 ;
)KK; <
;KK< =
entityLL 
.LL 
PropertyLL 
(LL 
eLL 
=>LL  
eLL! "
.LL" #
EmailLL# (
)LL( )
.LL) *
HasMaxLengthLL* 6
(LL6 7
$numLL7 :
)LL: ;
;LL; <
entityMM 
.MM 
PropertyMM 
(MM 
eMM 
=>MM  
eMM! "
.MM" #
	FirstNameMM# ,
)MM, -
.MM- .
HasMaxLengthMM. :
(MM: ;
$numMM; >
)MM> ?
;MM? @
entityNN 
.NN 
PropertyNN 
(NN 
eNN 
=>NN  
eNN! "
.NN" #
GenderNN# )
)NN) *
.NN* +
HasMaxLengthNN+ 7
(NN7 8
$numNN8 :
)NN: ;
;NN; <
entityOO 
.OO 
PropertyOO 
(OO 
eOO 
=>OO  
eOO! "
.OO" #
LastNameOO# +
)OO+ ,
.OO, -
HasMaxLengthOO- 9
(OO9 :
$numOO: =
)OO= >
;OO> ?
entityPP 
.PP 
PropertyPP 
(PP 
ePP 
=>PP  
ePP! "
.PP" #
MaritalStatusPP# 0
)PP0 1
.PP1 2
HasMaxLengthPP2 >
(PP> ?
$numPP? B
)PPB C
;PPC D
entityQQ 
.QQ 
PropertyQQ 
(QQ 
eQQ 
=>QQ  
eQQ! "
.QQ" #
PhoneNoQQ# *
)QQ* +
.QQ+ ,
HasMaxLengthQQ, 8
(QQ8 9
$numQQ9 ;
)QQ; <
;QQ< =
entityRR 
.RR 
PropertyRR 
(RR 
eRR 
=>RR  
eRR! "
.RR" #
PinCodeRR# *
)RR* +
.RR+ ,
HasMaxLengthRR, 8
(RR8 9
$numRR9 :
)RR: ;
;RR; <
entitySS 
.SS 
PropertySS 
(SS 
eSS 
=>SS  
eSS! "
.SS" #
StatSS# '
)SS' (
.SS( )
HasMaxLengthSS) 5
(SS5 6
$numSS6 9
)SS9 :
;SS: ;
entityUU 
.UU 
HasOneUU 
(UU 
dUU 
=>UU 
dUU  
.UU  !
EmployeeUU! )
)UU) *
.UU* +
WithManyUU+ 3
(UU3 4
pUU4 5
=>UU6 8
pUU9 :
.UU: ;
	EnquirersUU; D
)UUD E
.VV 
HasForeignKeyVV 
(VV 
dVV  
=>VV! #
dVV$ %
.VV% &

EmployeeIdVV& 0
)VV0 1
.WW 
HasConstraintNameWW "
(WW" #
$strWW# 7
)WW7 8
;WW8 9
}XX 	
)XX	 

;XX
 
modelBuilderZZ 
.ZZ 
EntityZZ 
<ZZ 
ManagerZZ #
>ZZ# $
(ZZ$ %
entityZZ% +
=>ZZ, .
{[[ 	
entity\\ 
.\\ 
HasKey\\ 
(\\ 
e\\ 
=>\\ 
e\\  
.\\  !
EmpId\\! &
)\\& '
.\\' (
HasName\\( /
(\\/ 0
$str\\0 P
)\\P Q
;\\Q R
entity^^ 
.^^ 
Property^^ 
(^^ 
e^^ 
=>^^  
e^^! "
.^^" #
EmpId^^# (
)^^( )
.__ 
ValueGeneratedNever__ $
(__$ %
)__% &
.`` 
HasColumnName`` 
(`` 
$str`` '
)``' (
;``( )
entityaa 
.aa 
Propertyaa 
(aa 
eaa 
=>aa  
eaa! "
.aa" #
AddressLineaa# .
)aa. /
.bb 
HasMaxLengthbb 
(bb 
$numbb !
)bb! "
.cc 
	IsUnicodecc 
(cc 
falsecc  
)cc  !
;cc! "
entitydd 
.dd 
Propertydd 
(dd 
edd 
=>dd  
edd! "
.dd" #
Citydd# '
)dd' (
.ee 
HasMaxLengthee 
(ee 
$numee  
)ee  !
.ff 
	IsUnicodeff 
(ff 
falseff  
)ff  !
;ff! "
entitygg 
.gg 
Propertygg 
(gg 
egg 
=>gg  
egg! "
.gg" #
Countrygg# *
)gg* +
.hh 
HasMaxLengthhh 
(hh 
$numhh  
)hh  !
.ii 
	IsUnicodeii 
(ii 
falseii  
)ii  !
;ii! "
entityjj 
.jj 
Propertyjj 
(jj 
ejj 
=>jj  
ejj! "
.jj" #
Emailjj# (
)jj( )
.kk 
HasMaxLengthkk 
(kk 
$numkk  
)kk  !
.ll 
	IsUnicodell 
(ll 
falsell  
)ll  !
;ll! "
entitymm 
.mm 
Propertymm 
(mm 
emm 
=>mm  
emm! "
.mm" #
	FirstNamemm# ,
)mm, -
.nn 
HasMaxLengthnn 
(nn 
$numnn  
)nn  !
.oo 
	IsUnicodeoo 
(oo 
falseoo  
)oo  !
;oo! "
entitypp 
.pp 
Propertypp 
(pp 
epp 
=>pp  
epp! "
.pp" #
LastNamepp# +
)pp+ ,
.qq 
HasMaxLengthqq 
(qq 
$numqq  
)qq  !
.rr 
	IsUnicoderr 
(rr 
falserr  
)rr  !
;rr! "
entityss 
.ss 
Propertyss 
(ss 
ess 
=>ss  
ess! "
.ss" #
PhoneNumberss# .
)ss. /
.tt 
HasMaxLengthtt 
(tt 
$numtt  
)tt  !
.uu 
	IsUnicodeuu 
(uu 
falseuu  
)uu  !
.vv 
IsFixedLengthvv 
(vv 
)vv  
;vv  !
}ww 	
)ww	 

;ww
 
modelBuilderyy 
.yy 
Entityyy 
<yy 
MgrAssignedEnquireyy .
>yy. /
(yy/ 0
entityyy0 6
=>yy7 9
{zz 	
entity{{ 
.{{ 
HasKey{{ 
({{ 
e{{ 
=>{{ 
e{{  
.{{  !!
MgrAssignedEnquiresId{{! 6
){{6 7
.{{7 8
HasName{{8 ?
({{? @
$str{{@ `
){{` a
;{{a b
entity}} 
.}} 
Property}} 
(}} 
e}} 
=>}}  
e}}! "
.}}" #
Isprocessed}}# .
)}}. /
.}}/ 0
HasColumnName}}0 =
(}}= >
$str}}> K
)}}K L
;}}L M
entity 
. 
HasOne 
( 
d 
=> 
d  
.  !
Emp! $
)$ %
.% &
WithMany& .
(. /
p/ 0
=>1 3
p4 5
.5 6
MgrAssignedEnquires6 I
)I J
.
ÄÄ 
HasForeignKey
ÄÄ 
(
ÄÄ 
d
ÄÄ  
=>
ÄÄ! #
d
ÄÄ$ %
.
ÄÄ% &
EmpId
ÄÄ& +
)
ÄÄ+ ,
.
ÅÅ 
HasConstraintName
ÅÅ "
(
ÅÅ" #
$str
ÅÅ# -
)
ÅÅ- .
;
ÅÅ. /
entity
ÉÉ 
.
ÉÉ 
HasOne
ÉÉ 
(
ÉÉ 
d
ÉÉ 
=>
ÉÉ 
d
ÉÉ  
.
ÉÉ  !
Enquiry
ÉÉ! (
)
ÉÉ( )
.
ÉÉ) *
WithMany
ÉÉ* 2
(
ÉÉ2 3
p
ÉÉ3 4
=>
ÉÉ5 7
p
ÉÉ8 9
.
ÉÉ9 :!
MgrAssignedEnquires
ÉÉ: M
)
ÉÉM N
.
ÑÑ 
HasForeignKey
ÑÑ 
(
ÑÑ 
d
ÑÑ  
=>
ÑÑ! #
d
ÑÑ$ %
.
ÑÑ% &
	EnquiryId
ÑÑ& /
)
ÑÑ/ 0
.
ÖÖ 
HasConstraintName
ÖÖ "
(
ÖÖ" #
$str
ÖÖ# -
)
ÖÖ- .
;
ÖÖ. /
}
ÜÜ 	
)
ÜÜ	 

;
ÜÜ
 $
OnModelCreatingPartial
àà 
(
àà 
modelBuilder
àà +
)
àà+ ,
;
àà, -
}
ââ 
partial
ãã 
void
ãã $
OnModelCreatingPartial
ãã '
(
ãã' (
ModelBuilder
ãã( 4
modelBuilder
ãã5 A
)
ããA B
;
ããB C
}åå ‹%
NC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\Enquirer.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[		 #
ExcludeFromCodeCoverage		 
]		 
public

 
partial

 
class

 
Enquirer

 
{ 
public 

int 
	EnquiryId 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
=& '
null( ,
!, -
;- .
public 

string 
	FirstName 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 

string 
LastName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
Addr 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
PhoneNo 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
City 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
Stat 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
Country 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
PinCode 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public   

string   
MaritalStatus   
{    !
get  " %
;  % &
set  ' *
;  * +
}  , -
=  . /
null  0 4
!  4 5
;  5 6
public"" 

string"" 
Gender"" 
{"" 
get"" 
;"" 
set""  #
;""# $
}""% &
=""' (
null"") -
!""- .
;"". /
public$$ 

int$$ 
Age$$ 
{$$ 
get$$ 
;$$ 
set$$ 
;$$ 
}$$  
public&& 

int&& 
Status&& 
{&& 
get&& 
;&& 
set&&  
;&&  !
}&&" #
public(( 

DateTime(( 
Dob(( 
{(( 
get(( 
;(( 
set(( "
;((" #
}(($ %
public** 

int** 
?** 

EmployeeId** 
{** 
get**  
;**  !
set**" %
;**% &
}**' (
[,, 
	BindNever,, 
],, 
[-- 

JsonIgnore-- 
]-- 
public.. 

virtual.. 
ICollection.. 
<.. 
Document.. '
>..' (
	Documents..) 2
{..3 4
get..5 8
;..8 9
set..: =
;..= >
}..? @
=..A B
new..C F
List..G K
<..K L
Document..L T
>..T U
(..U V
)..V W
;..W X
[// 
	BindNever// 
]// 
[00 

JsonIgnore00 
]00 
public11 

virtual11 
Manager11 
?11 
Employee11 $
{11% &
get11' *
;11* +
set11, /
;11/ 0
}111 2
[22 
	BindNever22 
]22 
[33 

JsonIgnore33 
]33 
public44 

virtual44 
ICollection44 
<44 
MgrAssignedEnquire44 1
>441 2
MgrAssignedEnquires443 F
{44G H
get44I L
;44L M
set44N Q
;44Q R
}44S T
=44U V
new44W Z
List44[ _
<44_ `
MgrAssignedEnquire44` r
>44r s
(44s t
)44t u
;44u v
}55 ƒ
UC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\DocumentRequest.cs
	namespace 	
EnquiryModule
 
. 
Models 
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
DocumentRequest  
{ 
public		 
int		 
DocId		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

 
int

 
EnqId

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
int 
CustId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
	DocTypeId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Status 
{ 
get 
;  
set! $
;$ %
}& '
public 
	IFormFile 
? 
Doc 
{ 
get  #
;# $
set% (
;( )
}* +
} 
public 

class 
DocWithImageData !
{ 
public 
DocumentRequest 
DocModel '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
	ImageData 
{  !
get" %
;% &
set' *
;* +
}, -
} 
public 

class 
DocumentResponse !
{ 
public 
int 
docId 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
updatedImage "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} Ø
NC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\Document.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
Document 
{		 
public

 

int

 
DocId

 
{

 
get

 
;

 
set

 
;

  
}

! "
public 

int 
EnqId 
{ 
get 
; 
set 
;  
}! "
public 

int 
? 
CustId 
{ 
get 
; 
set !
;! "
}# $
public 

int 
	DocTypeId 
{ 
get 
; 
set  #
;# $
}% &
public 

int 
Status 
{ 
get 
; 
set  
;  !
}" #
public 

byte 
[ 
] 
Doc 
{ 
get 
; 
set  
;  !
}" #
=$ %
null& *
!* +
;+ ,
public 

virtual 
DocType 
DocType "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
null3 7
!7 8
;8 9
public 

virtual 
Enquirer 
Enq 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
} Ê	
MC:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Models\DocType.cs
	namespace 	
EnquiryModule
 
. 
Models 
; 
[ #
ExcludeFromCodeCoverage 
] 
public 
partial 
class 
DocType 
{		 
public

 

int

 
DocType1

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 

string 
DocName 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

bool 
Isactive 
{ 
get 
; 
set  #
;# $
}% &
public 

virtual 
ICollection 
< 
Document '
>' (
	Documents) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
=A B
newC F
ListG K
<K L
DocumentL T
>T U
(U V
)V W
;W X
} ¿
\C:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Infrastructure\IEnquiryModule.cs
	namespace 	
EnquiryModule
 
. 
Infrastructure &
{ 
public 

	interface 
IEnquiryModule #
{ 
public 
Enquirer 
CreateEnquiry %
(% &
Enquirer& .
enquirer/ 7
)7 8
;8 9
public		 
Enquirer		 
UpdateEnquirer		 &
(		& '
Enquirer		' /
enquirer		0 8
)		8 9
;		9 :
public 
Enquirer 
GetEnquirer #
(# $
int$ '
	EnquiryId( 1
)1 2
;2 3
public 
Document 
CreateDocument &
(& '
int' *
enqId+ 0
,0 1
int2 5
custId6 <
,< =
int> A
docTypeB I
,I J
byteK O
[O P
]P Q
docDataR Y
)Y Z
;Z [
public 
DocWithImageData 
GetDocument  +
(+ ,
int, /
DocId0 5
)5 6
;6 7
public 
Document 
UpdateDocument &
(& '
Document' /
document0 8
)8 9
;9 :
public 
int 
? 
AssignManager !
(! "
int" %
	EnquiryId& /
)/ 0
;0 1
} 
} ãv
_C:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Infrastructure\EnquiryModuleRepo.cs
	namespace 	
EnquiryModule
 
. 
Infrastructure &
{ 
public 

class 
EnquiryModuleRepo "
:# $
IEnquiryModule% 3
{ 
private		 
readonly		  
EnquiryModuleContext		 -
_db		. 1
;		1 2
public

 
EnquiryModuleRepo

  
(

  ! 
EnquiryModuleContext

! 5
db

6 8
)

8 9
{ 	
_db 
= 
db 
; 
} 	
public 
Document 
CreateDocument &
(& '
int' *
enqId+ 0
,0 1
int2 5
custId6 <
,< =
int> A
docTypeB I
,I J
byteK O
[O P
]P Q
docDataR Y
)Y Z
{ 	
Document 
document 
= 
new  #
Document$ ,
(, -
)- .
;. /
document 
. 
EnqId 
= 
enqId "
;" #
document 
. 
CustId 
= 
custId $
;$ %
document 
. 
	DocTypeId 
=  
docType! (
;( )
document 
. 
Status 
= 
$num 
;  
document 
. 
Doc 
= 
docData "
;" #
_db 
. 
	Documents 
. 
Add 
( 
document &
)& '
;' (
_db 
. 
SaveChanges 
( 
) 
; 
return 
document 
; 
} 	
public 
Enquirer 
CreateEnquiry %
(% &
Enquirer& .
enquirer/ 7
)7 8
{ 	
_db"" 
."" 
	Enquirers"" 
."" 
Add"" 
("" 
enquirer"" %
)""% &
;""& '
_db## 
.## 
SaveChanges## 
(## 
)## 
;## 
return$$ 
enquirer$$ 
;$$ 
}&& 	
public(( 
Enquirer(( 
GetEnquirer(( #
(((# $
int(($ '
	EnquiryId((( 1
)((1 2
{)) 	
return** 
_db** 
.** 
	Enquirers** 
.**  
FirstOrDefault**  .
(**. /
e**/ 0
=>**0 2
e**2 3
.**3 4
	EnquiryId**4 =
==**> @
	EnquiryId**A J
)**J K
;**K L
}++ 	
public,, 
Manager,, 

GetManager,, !
(,,! "
int,," %
?,,% &

EmployeeId,,' 1
),,1 2
{-- 	
return.. 
_db.. 
... 
Managers.. 
...  
FirstOrDefault..  .
(... /
e../ 0
=>..1 3
e..4 5
...5 6
EmpId..6 ;
==..< >

EmployeeId..? I
)..I J
;..J K
}// 	
public22 
Enquirer22 
UpdateEnquirer22 &
(22& '
Enquirer22' /
enquirer220 8
)228 9
{33 	
_db44 
.44 
	Enquirers44 
.55 
Where55 
(55 
c55 
=>55 
c55 
.55 
	EnquiryId55 #
==55$ &
enquirer55' /
.55/ 0
	EnquiryId550 9
)559 :
.66 
ExecuteUpdate66 
(66 
setters66 "
=>66# %
setters77 
.77 
SetProperty77 #
(77# $
p77$ %
=>77& (
p77) *
.77* +
Email77+ 0
,770 1
enquirer772 :
.77: ;
Email77; @
)77@ A
.88 
SetProperty88 #
(88# $
p88$ %
=>88& (
p88) *
.88* +
	FirstName88+ 4
,884 5
enquirer886 >
.88> ?
	FirstName88? H
)88H I
.99 
SetProperty99 #
(99# $
p99$ %
=>99& (
p99) *
.99* +
LastName99+ 3
,993 4
enquirer995 =
.99= >
LastName99> F
)99F G
.:: 
SetProperty:: #
(::# $
p::$ %
=>::& (
p::) *
.::* +
Addr::+ /
,::/ 0
enquirer::1 9
.::9 :
Addr::: >
)::> ?
.;; 
SetProperty;; #
(;;# $
p;;$ %
=>;;& (
p;;) *
.;;* +
PhoneNo;;+ 2
,;;2 3
enquirer;;4 <
.;;< =
PhoneNo;;= D
);;D E
.<< 
SetProperty<< #
(<<# $
p<<$ %
=><<& (
p<<) *
.<<* +
City<<+ /
,<</ 0
enquirer<<1 9
.<<9 :
City<<: >
)<<> ?
.== 
SetProperty== #
(==# $
p==$ %
=>==& (
p==) *
.==* +
Stat==+ /
,==/ 0
enquirer==1 9
.==9 :
Stat==: >
)==> ?
.>> 
SetProperty>> #
(>># $
p>>$ %
=>>>& (
p>>) *
.>>* +
Country>>+ 2
,>>2 3
enquirer>>4 <
.>>< =
Country>>= D
)>>D E
.?? 
SetProperty?? #
(??# $
p??$ %
=>??& (
p??) *
.??* +
PinCode??+ 2
,??2 3
enquirer??4 <
.??< =
PinCode??= D
)??D E
.@@ 
SetProperty@@ #
(@@# $
p@@$ %
=>@@& (
p@@) *
.@@* +
MaritalStatus@@+ 8
,@@8 9
enquirer@@: B
.@@B C
MaritalStatus@@C P
)@@P Q
.AA 
SetPropertyAA #
(AA# $
pAA$ %
=>AA& (
pAA) *
.AA* +
GenderAA+ 1
,AA1 2
enquirerAA3 ;
.AA; <
GenderAA< B
)AAB C
.BB 
SetPropertyBB #
(BB# $
pBB$ %
=>BB& (
pBB) *
.BB* +
AgeBB+ .
,BB. /
enquirerBB0 8
.BB8 9
AgeBB9 <
)BB< =
.CC 
SetPropertyCC #
(CC# $
pCC$ %
=>CC& (
pCC) *
.CC* +
StatusCC+ 1
,CC1 2
enquirerCC3 ;
.CC; <
StatusCC< B
)CCB C
.DD 
SetPropertyDD #
(DD# $
pDD$ %
=>DD& (
pDD) *
.DD* +
DobDD+ .
,DD. /
enquirerDD0 8
.DD8 9
DobDD9 <
)DD< =
.EE 
SetPropertyEE #
(EE# $
pEE$ %
=>EE& (
pEE) *
.EE* +

EmployeeIdEE+ 5
,EE5 6
enquirerEE7 ?
.EE? @

EmployeeIdEE@ J
)EEJ K
)FF 
;FF 
_dbGG 
.GG 
SaveChangesGG 
(GG 
)GG 
;GG 
returnHH 
enquirerHH 
;HH 
}II 	
publicKK 
DocWithImageDataKK 
GetDocumentKK  +
(KK+ ,
intKK, /
DocIdKK0 5
)KK5 6
{LL 	
varMM 
documentMM 
=MM 
_dbMM 
.MM  
	DocumentsMM  )
.MM) *
FirstOrDefaultMM* 8
(MM8 9
eMM9 :
=>MM: <
eMM< =
.MM= >
DocIdMM> C
==MMD F
DocIdMMG L
)MML M
;MMM N
ifNN 
(NN 
documentNN 
==NN 
nullNN 
)NN  
{OO 
returnPP 
nullPP 
;PP 
}QQ 
varRR 
docModelRR 
=RR 
newRR 
DocumentRequestRR .
{SS 
DocIdTT 
=TT 
documentTT  
.TT  !
DocIdTT! &
,TT& '
EnqIdUU 
=UU 
documentUU  
.UU  !
EnqIdUU! &
,UU& '
	DocTypeIdVV 
=VV 
documentVV $
.VV$ %
	DocTypeIdVV% .
,VV. /
StatusWW 
=WW 
documentWW !
.WW! "
StatusWW" (
}XX 
;XX 
varZZ 
	imageDataZZ 
=ZZ 
(ZZ 
byteZZ !
[ZZ! "
]ZZ" #
)ZZ# $
documentZZ$ ,
.ZZ, -
DocZZ- 0
;ZZ0 1
var[[ 
base64Image[[ 
=[[ 
Convert[[ %
.[[% &
ToBase64String[[& 4
([[4 5
	imageData[[5 >
)[[> ?
;[[? @
return\\ 
new\\ 
DocWithImageData\\ '
{\\( )
DocModel\\* 2
=\\3 4
docModel\\5 =
,\\= >
	ImageData\\? H
=\\I J
$str\\K d
+\\e f
base64Image\\g r
}\\s t
;\\t u
}]] 	
public__ 
Document__ 
UpdateDocument__ &
(__& '
Document__' /
document__0 8
)__8 9
{`` 	
_dbaa 
.aa 
	Documentsaa 
.bb	 

Wherebb
 
(bb 
dbb 
=>bb 
dbb 
.bb 
DocIdbb 
==bb 
documentbb  (
.bb( )
DocIdbb) .
)bb. /
.cc 
ExecuteUpdatecc 
(cc 
setterscc "
=>cc# %
settersdd 
.dd 
SetPropertydd  
(dd  !
pdd! "
=>dd# %
pdd& '
.dd' (
EnqIddd( -
,dd- .
documentdd/ 7
.dd7 8
EnqIddd8 =
)dd= >
.ee 
SetPropertyee  
(ee  !
pee! "
=>ee# %
pee& '
.ee' (
CustIdee( .
,ee. /
documentee0 8
.ee8 9
CustIdee9 ?
)ee? @
.ff 
SetPropertyff  
(ff  !
pff! "
=>ff# %
pff& '
.ff' (
	DocTypeIdff( 1
,ff1 2
documentff3 ;
.ff; <
	DocTypeIdff< E
)ffE F
.gg 
SetPropertygg  
(gg  !
pgg! "
=>gg# %
pgg& '
.gg' (
Statusgg( .
,gg. /
documentgg0 8
.gg8 9
Statusgg9 ?
)gg? @
.hh 
SetPropertyhh  
(hh  !
phh! "
=>hh# %
phh& '
.hh' (
Dochh( +
,hh+ ,
documenthh- 5
.hh5 6
Dochh6 9
)hh9 :
)ii	 

;ii
 
_dbkk 
.kk 
SaveChangeskk 
(kk 
)kk 
;kk 
returnmm 
documentmm 
;mm 
}nn 	
publicoo 
intoo 
?oo 
AssignManageroo !
(oo! "
intoo" %
EnqIdoo& +
)oo+ ,
{pp 	
varqq 
enquiryqq 
=qq 
GetEnquirerqq %
(qq% &
EnqIdqq& +
)qq+ ,
;qq, -
ifrr 
(rr 
enquiryrr 
==rr 
nullrr 
)rr  
returnss 
-ss 
$numss 
;ss 
varuu 
MgrAssignEnquu 
=uu 
_dbuu "
.uu" #
MgrAssignedEnquiresuu# 6
.uu6 7
FirstOrDefaultuu7 E
(uuE F
euuF G
=>uuH J
euuK L
.uuL M
	EnquiryIduuM V
==uuW Y
EnqIduuZ _
)uu_ `
;uu` a
ifww 
(ww 
MgrAssignEnqww 
isww 
notww  #
nullww$ (
)ww( )
returnxx 
MgrAssignEnqxx #
.xx# $
EmpIdxx$ )
;xx) *
varzz  
leastLoadedManagerIdzz $
=zz% &
_dbzz' *
.zz* +
MgrAssignedEnquireszz+ >
.{{ 
Where{{ 
({{ 
m{{ 
=>{{ 
m{{ 
.{{ 
Isprocessed{{ &
!={{' )
true{{* .
){{. /
.|| 
GroupBy|| 
(|| 
m|| 
=>|| 
m|| 
.|| 
EmpId|| "
)||" #
.}} 
Select}} 
(}} 
group}} 
=>}} 
new}} !
{~~ 
EmpId 
= 
group 
. 
Key "
," #
EnquiryCount
ÄÄ 
=
ÄÄ 
group
ÄÄ  %
.
ÄÄ% &
Count
ÄÄ& +
(
ÄÄ+ ,
)
ÄÄ, -
}
ÅÅ 
)
ÅÅ 
.
ÇÇ 
OrderBy
ÇÇ 
(
ÇÇ 
x
ÇÇ 
=>
ÇÇ 
x
ÇÇ 
.
ÇÇ 
EnquiryCount
ÇÇ )
)
ÇÇ) *
.
ÉÉ 
Select
ÉÉ 
(
ÉÉ 
x
ÉÉ 
=>
ÉÉ 
x
ÉÉ 
.
ÉÉ 
EmpId
ÉÉ !
)
ÉÉ! "
.
ÑÑ 
FirstOrDefault
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
if
ÜÜ 
(
ÜÜ "
leastLoadedManagerId
ÜÜ $
.
ÜÜ$ %
HasValue
ÜÜ% -
)
ÜÜ- .
{
áá 
var
ââ 
newAssignment
ââ !
=
ââ" #
new
ââ$ ' 
MgrAssignedEnquire
ââ( :
{
ää 
EmpId
ãã 
=
ãã "
leastLoadedManagerId
ãã 0
.
ãã0 1
Value
ãã1 6
,
ãã6 7
	EnquiryId
åå 
=
åå 
EnqId
åå  %
,
åå% &
Isprocessed
çç 
=
çç  !
false
çç" '
}
éé 
;
éé 
_db
êê 
.
êê !
MgrAssignedEnquires
êê '
.
êê' (
Add
êê( +
(
êê+ ,
newAssignment
êê, 9
)
êê9 :
;
êê: ;
_db
ëë 
.
ëë 
SaveChanges
ëë 
(
ëë  
)
ëë  !
;
ëë! "
return
íí "
leastLoadedManagerId
íí +
.
íí+ ,
Value
íí, 1
;
íí1 2
}
ìì 
return
îî 
-
îî 
$num
îî 
;
îî 
}
ïï 	
public
ññ 
int
ññ 
GetAllEnquires
ññ !
(
ññ! "
)
ññ" #
{
óó 	
return
òò 
_db
òò 
.
òò 
	Enquirers
òò  
.
òò  !
ToList
òò! '
(
òò' (
)
òò( )
.
òò) *
Count
òò* /
(
òò/ 0
)
òò0 1
;
òò1 2
}
ôô 	
}
öö 
}õõ ¨_
\C:\Eurofins Training\ConsoleApp\EnquiryModule\EnquiryModule\Controllers\EnquiryController.cs
	namespace 	
EnquiryModule
 
. 
Controllers #
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
EnquiryController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
EnquiryModuleRepo *
_repo+ 0
;0 1
public 
EnquiryController  
(  !
EnquiryModuleRepo! 2
repo3 7
)7 8
{ 	
_repo 
= 
repo 
; 
} 	
[ 	
HttpPost	 
( 
$str !
)! "
]" #
public 
IActionResult 
CreateEnquiry *
(* +
[+ ,
FromBody, 4
]4 5
Enquirer6 >
enquirer? G
)G H
{ 	
try 
{ 
if 
( 
enquirer 
is 
null  $
)$ %
{ 
return 

BadRequest %
(% &
$str& D
)D E
;E F
} 
else 
if 
( 
_repo 
. 
GetEnquirer *
(* +
enquirer+ 3
.3 4
	EnquiryId4 =
)= >
is? A
nullB F
)F G
{ 
return 
Ok 
( 
_repo #
.# $
CreateEnquiry$ 1
(1 2
enquirer2 :
): ;
); <
;< =
}   
else!! 
{"" 
return## 

BadRequest## %
(##% &
$str##& =
)##= >
;##> ?
}$$ 
}%% 
catch%% 
(%% 
	Exception%% 
ex%%  
)%%  !
{&& 
return'' 

BadRequest'' 
('' 
ex'' !
.''! "
Message''" )
)'') *
;''* +
}(( 
}++ 	
[,, 	
HttpGet,,	 
(,, 
$str,, 
),, 
],, 
public-- 
IActionResult-- 
GetEnquiryById-- +
(--+ ,
int--, /
	EnquiryId--0 9
)--9 :
{.. 	
var// 
enquirer// 
=// 
_repo//  
.//  !
GetEnquirer//! ,
(//, -
	EnquiryId//- 6
)//6 7
;//7 8
if00 
(00 
enquirer00 
==00 
null00  
)00  !
{11 
return22 
NotFound22 
(22  
$str22  3
)223 4
;224 5
}33 
return44 
Ok44 
(44 
enquirer44 
)44 
;44  
}55 	
[77 	
HttpPut77	 
(77 
$str77  
)77  !
]77! "
public88 
IActionResult88 
UpdateEnquiry88 *
(88* +
[88+ ,
FromBody88, 4
]884 5
Enquirer886 >
enquirer88? G
)88G H
{99 	
try:: 
{;; 
if<< 
(<< 
_repo<< 
.<< 
GetEnquirer<< $
(<<$ %
enquirer<<% -
.<<- .
	EnquiryId<<. 7
)<<7 8
is<<9 ;
not<<< ?
null<<@ D
)<<D E
{== 
if>> 
(>> 
_repo>> 
.>> 

GetManager>> (
(>>( )
enquirer>>) 1
.>>1 2

EmployeeId>>2 <
)>>< =
is>>> @
not>>A D
null>>E I
)>>I J
return?? 
Ok?? !
(??! "
_repo??" '
.??' (
UpdateEnquirer??( 6
(??6 7
enquirer??7 ?
)??? @
)??@ A
;??A B
else@@ 
returnAA 
NotFoundAA '
(AA' (
$strAA( ;
+AA< =
enquirerAA> F
.AAF G

EmployeeIdAAG Q
+AAR S
$strAAT d
)AAd e
;AAe f
}BB 
elseCC 
returnDD 
NotFoundDD #
(DD# $
$strDD$ 7
+DD7 8
enquirerDD8 @
.DD@ A
	EnquiryIdDDA J
+DDJ K
$strDDK [
)DD[ \
;DD\ ]
}FF 
catchGG 
(GG 
	ExceptionGG 
exGG 
)GG  
{HH 
returnII 

BadRequestII !
(II! "
exII" $
.II$ %
MessageII% ,
)II, -
;II- .
}JJ 
}KK 	
[LL 	
HttpPostLL	 
(LL 
$strLL "
)LL" #
]LL# $
publicMM 
asyncMM 
TaskMM 
<MM 
IActionResultMM '
>MM' (
UploadDocumentMM) 7
(MM7 8
DocumentRequestMM8 G
docModelMMH P
)MMP Q
{NN 	
ifOO 
(OO 
docModelOO 
==OO 
nullOO  
||OO! #
docModelOO$ ,
.OO, -
DocOO- 0
==OO1 3
nullOO4 8
||OO9 ;
docModelOO< D
.OOD E
DocOOE H
.OOH I
LengthOOI O
==OOP R
$numOOS T
)OOT U
returnPP 

BadRequestPP !
(PP! "
$strPP" 4
)PP4 5
;PP5 6
usingRR 
(RR 
varRR 
memoryStreamRR #
=RR$ %
newRR& )
MemoryStreamRR* 6
(RR6 7
)RR7 8
)RR8 9
{SS 
awaitTT 
docModelTT 
.TT 
DocTT "
.TT" #
CopyToAsyncTT# .
(TT. /
memoryStreamTT/ ;
)TT; <
;TT< =
varUU 
docDataUU 
=UU 
memoryStreamUU *
.UU* +
ToArrayUU+ 2
(UU2 3
)UU3 4
;UU4 5
varXX 
docIdXX 
=XX 
_repoXX !
.XX! "
CreateDocumentXX" 0
(XX0 1
docModelXX1 9
.XX9 :
EnqIdXX: ?
,XX? @
docModelXXA I
.XXI J
CustIdXXJ P
,XXP Q
docModelXXR Z
.XXZ [
	DocTypeIdXX[ d
,XXd e
docDataXXf m
)XXm n
;XXn o
returnZZ 
OkZZ 
(ZZ 
newZZ 
{ZZ 
DocIdZZ  %
=ZZ& '
docIdZZ( -
}ZZ. /
)ZZ/ 0
;ZZ0 1
}[[ 
}\\ 	
[^^ 	
HttpGet^^	 
(^^ 
$str^^ 
)^^ 
]^^  
public__ 
IActionResult__ 
GetDocumentById__ ,
(__, -
int__- 0
DocId__1 6
)__6 7
{`` 	
varaa 
documentaa 
=aa 
_repoaa  
.aa  !
GetDocumentaa! ,
(aa, -
DocIdaa- 2
)aa2 3
;aa3 4
ifbb 
(bb 
documentbb 
isbb 
notbb 
nullbb  $
)bb$ %
returncc 
Okcc 
(cc 
documentcc "
)cc" #
;cc# $
returnee 
NotFoundee 
(ee 
$stree 0
)ee0 1
;ee1 2
}ff 	
[hh 	
HttpPuthh	 
(hh 
$strhh !
)hh! "
]hh" #
publicii 
asyncii 
Taskii 
<ii 
IActionResultii '
>ii' (
UpdateDocumentii) 7
(ii7 8
DocumentRequestii8 G
docModeliiH P
)iiP Q
{jj 	
ifkk 
(kk 
docModelkk 
==kk 
nullkk  
||kk! #
docModelkk$ ,
.kk, -
Dockk- 0
==kk1 3
nullkk4 8
||kk9 ;
docModelkk< D
.kkD E
DockkE H
.kkH I
LengthkkI O
==kkP R
$numkkS T
)kkT U
returnll 

BadRequestll !
(ll! "
$strll" 4
)ll4 5
;ll5 6
usingnn 
(nn 
varnn 
memoryStreamnn #
=nn$ %
newnn& )
MemoryStreamnn* 6
(nn6 7
)nn7 8
)nn8 9
{oo 
awaitpp 
docModelpp 
.pp 
Docpp "
.pp" #
CopyToAsyncpp# .
(pp. /
memoryStreampp/ ;
)pp; <
;pp< =
varqq 
docDataqq 
=qq 
memoryStreamqq *
.qq* +
ToArrayqq+ 2
(qq2 3
)qq3 4
;qq4 5
Documentss 
documentss !
=ss" #
newss$ '
Documentss( 0
(ss0 1
)ss1 2
;ss2 3
documenttt 
.tt 
DocIdtt 
=tt  
docModeltt! )
.tt) *
DocIdtt* /
;tt/ 0
documentuu 
.uu 
EnqIduu 
=uu  
docModeluu! )
.uu) *
EnqIduu* /
;uu/ 0
documentvv 
.vv 
CustIdvv 
=vv  !
docModelvv" *
.vv* +
CustIdvv+ 1
;vv1 2
documentww 
.ww 
Statusww 
=ww  !
docModelww" *
.ww* +
Statusww+ 1
;ww1 2
documentxx 
.xx 
Docxx 
=xx 
docDataxx &
;xx& '
documentyy 
.yy 
	DocTypeIdyy "
=yy# $
docModelyy% -
.yy- .
	DocTypeIdyy. 7
;yy7 8
varzz 
doczz 
=zz 
_repozz 
.zz  
UpdateDocumentzz  .
(zz. /
documentzz/ 7
)zz7 8
;zz8 9
var|| 
base64Image|| 
=||  !
Convert||" )
.||) *
ToBase64String||* 8
(||8 9
document||9 A
.||A B
Doc||B E
)||E F
;||F G
DocumentResponse}}  
docRes}}! '
=}}( )
new}}* -
DocumentResponse}}. >
(}}> ?
)}}? @
;}}@ A
docRes~~ 
.~~ 
docId~~ 
=~~ 
doc~~ "
.~~" #
DocId~~# (
;~~( )
docRes 
. 
updatedImage #
=$ %
$str& ?
+@ A
base64ImageB M
;M N
return
ÄÄ 
Ok
ÄÄ 
(
ÄÄ 
docRes
ÄÄ  
)
ÄÄ  !
;
ÄÄ! "
}
ÅÅ 
}
ÇÇ 	
[
ÉÉ 	
HttpPost
ÉÉ	 
(
ÉÉ 
$str
ÉÉ !
)
ÉÉ! "
]
ÉÉ" #
public
ÑÑ 
IActionResult
ÑÑ 
AssignManager
ÑÑ *
(
ÑÑ* +
int
ÑÑ+ .
EnqId
ÑÑ/ 4
)
ÑÑ4 5
{
ÖÖ 	
var
ÜÜ 
response
ÜÜ 
=
ÜÜ 
_repo
ÜÜ  
.
ÜÜ  !
AssignManager
ÜÜ! .
(
ÜÜ. /
EnqId
ÜÜ/ 4
)
ÜÜ4 5
;
ÜÜ5 6
if
áá 
(
áá 
response
áá 
==
áá 
-
áá 
$num
áá 
)
áá 
return
àà 
NotFound
àà 
(
àà  
$str
àà  4
)
àà4 5
;
àà5 6
return
ää 
Ok
ää 
(
ää 
response
ää 
)
ää 
;
ää  
}
ãã 	
[
åå 	
HttpGet
åå	 
(
åå 
$str
åå !
)
åå! "
]
åå" #
public
çç 
int
çç 
GetAllEnquires
çç !
(
çç! "
)
çç" #
{
éé 	
return
èè 
_repo
èè 
.
èè 
GetAllEnquires
èè '
(
èè' (
)
èè( )
;
èè) *
}
êê 	
}
íí 
}ìì 